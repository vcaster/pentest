# Nmap
`nmap -v --min-rate 10000 -p- 10.10.243.41`

```
PORT     STATE SERVICE        REASON
22/tcp   open  ssh            syn-ack ttl 61
80/tcp   open  http           syn-ack ttl 61
8765/tcp open  ultraseek-http syn-ack ttl 61
```

`nmap -sV -sC -vv -p 22,80,8765 10.10.243.41`

# Gobuster

`gobuster dir -u http://10.10.243.41 -w /usr/share/wordlists/dirb/common.txt `
```
/.hta                 (Status: 403) [Size: 277]
/.htaccess            (Status: 403) [Size: 277]
/.htpasswd            (Status: 403) [Size: 277]
/custom               (Status: 301) [Size: 313] [--> http://10.10.243.41/custom/]
/fonts                (Status: 301) [Size: 312] [--> http://10.10.243.41/fonts/] 
/images               (Status: 301) [Size: 313] [--> http://10.10.243.41/images/]
/index.html           (Status: 200) [Size: 1752]                                 
/robots.txt           (Status: 200) [Size: 28]                                   
/server-status        (Status: 403) [Size: 277] 
```

# Steps

* find the `user.bak`
* wget it -> check with file
* use online sqlite viewer "View sqlite file online"
* crackstation the hash
* use the details to login on port 8765
* check the inspect (ctrl+U)
* Download file -> check with file
* test with admin page
* get the xxe vuln to display barry /etc/passwd-> use that to get ssh
* try the ssh method with -i
* crack with john -> locate ssh2john
* python /usr/share/john/ssh2john.py ssh2john ssh2john barry > barry_key
* `john --wordlist=/usr/share/wordlists/rockyou.txt barry_key`
* password -> `urieljames` login with priv key
* linepaesss -> find the SUID 
* analiz with stirings
* change path = export PATH=/home/barry:$PATH
* create fake tail -> make chmod +x
* run the SUID binary


