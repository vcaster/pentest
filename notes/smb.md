# SMB
* `nmap -script=smb* 10.10.216.87`
* `nmap --script=smb-vuln* --script-args=unsafe= 10.10.216.87`
* `crackmapexec smb IP` -> domain name
* `crackmapexec smb IP --shares` -> enum shares
* `crackmapexec smb IP --shares -u '' -p ''`
* `smbmap -R sharename -H IP -A filename`
* `smbmap -u null -p null -H`
* `smbmap -u realuser -p hash:hash -H IP` hash from impacket
* `cme smb IP -u user -p password -M spider_plus`
* `smbcacls -N '//IP/Share'`
* `enum4linux.pl -a <ip>`
* `smbclient  //10.10.10.2/secret -U suit -p 445`
* `smbclient  //10.10.228.31/profiles  -N`
* `smbclient  //10.10.228.31/profiles  -U user -P pass`

## Windows
* `sudo mkdir /mnt/sharename`
* `sudo mount -t cifs //IP/Share /mnt/sharename`
* `sudo mount -t cifs -o 'user=guest,password='//IP/Share /mnt/sharename`
* `sudo mount -t cifs -o 'user=username,password=pass' //IP/Share /mnt/sharename`

## Linux
* `sudo mkdir /tmp/newdir`
* `sudo mount -t nfs IP:share /tmp/newdir`
* `mount -t cifs -o username=qiu,password=password //10.10.10.117:/qiu /mnt/mercy`
* in /etc/fstab => `//10.10.10.117/qiu /mnt/mercy cifs username=qiu,password=password` => `mount /mercy`

## Brute force
* `crackmapexec smb IP --pass-pol` -> check account lockout threshold
* `hashcat --force pass.lst -r /usr/shar/hashcat/rules/best64.rulw --stdout > newpass`
* `hydra -l helios -P /usr/share/seclists/Passwords/darkweb2017-top10000.txt 10.10.10.121 smb`
* `crackmapexec smb IP -u userlist -p passwrdlst`