# Tools

## John the ripper

### convert to john readable

/usr/share/john/ssh2john.py kay > johnread.txt

### user john to decrypt

john johnread.txt --wordlist=/usr/share/wordlists/rockyou.txt

## Enum4linux

* enum4linux /opt/tools/enum4linux/enum4linux.pl -a  10.10.152.196 | tee enum$linux.log

## # Metasploit

# Init DB/ Commands
* msfdb init --> 
* msfconsole -h

* db_status
* help
* use <number>
* show options
* set / setg -> global unset / unsetg -> 
* (module) info
* spool - save
* Auxiliary -> scans if | post
* encoder
* load
* ip a -> see sp addr
* exploit | run -j >as job > jobs to see jobs
* sessions -i <number>
* help list
* ps > process list
* migrage to spoolcv.exe service > reliable ? can oly migrate to owned proc
* getuid >
* sysinfo
* getprivs
* load kiwi | passwd dumping tool
* run post/windows/gather/checkvm
* run post/multi/recon/local_exploit_suggester check if vm
* Finally, let's try forcing RDP to be available. This won't work since we aren't administrators, however, this is a fun command to know about: `run post/windows/manage/enable_rdp`
* run autoroute -h > try hop in networks
###

`db_nmap -sV BOX-IP`
* info
host / vulns / services

# WIRESHARK

## Filter

* http
* http.request.method=="POST"
* ip.src==10.1.1.1 or ip.src==10.2.202
* tcp.port == ... | udp.port== ...
* file=>exports=>....
* search protocol
* ip.dst==10.0.0.0
* dns
* tcp&&!(tcp.port==22)&&!(tcp.port==80)   
* edit -> pref -> protcols | checksum validatezz

# Wirless pcap aircrack.ng
* aircrack-ng file.pcap --> wep
* aircrack-ng Cracking.pcap  -w /usr/share/wordlists/rockyou.txt --> wpa

* * protocol -> IEEE 802.11 -> enable decrption key -> key type: wpa-pwd | Key: passwod:ssid
 
## Clear text 

* TFTP -> follow udp stream
* TELNET
* HTTP

## VoIP
Telepony Voip -> RTP Streams
* skinny

# WIFITE -> github
[https://github.com/derv82/wifite2]

# Snort

* to capture all traffic add interface with promiscus mode act
* back up snort.conf in /etc/snort
* set ipvar HOME_NET <ip 0/24> in snort.conf
* snort -r snort_anomaly_capture.pcap -c /etc/snort/rules/exploit.rules 

# suricata

* apt-get install suricata
* apt-get install oinkmaster
* echo "url = http://rules.emergingthreats.net/open/suricata/emerging.rules.tar.gz" >> /etc/oinkmaster.conf
* oinkmaster -C /etc/oinkmaster.conf -o /etc/suricata/rules

* mkdir log; suricata -r packets.pcap -c /etc/suricata/suricata.yaml -k none -v -l log


Sekur
* edit yaml file too add rules
```
  - 3coresec.rules
  - app-layer-events.rules
  - botcc.portgrouped.rules
  - botcc.rules
  - ciarmy.rules
  - compromised.rules
  - decoder-events.rules
  - dhcp-events.rules
  - dnp3-events.rules
  - dns-events.rules
  - drop.rules
  - dshield.rules
  - emerging-activex.rules
  - emerging-attack_response.rules
  - emerging-chat.rules
  - emerging-current_events.rules
  - emerging-deleted.rules
  - emerging-dns.rules
  - emerging-dos.rules
  - emerging-exploit.rules
  - emerging-ftp.rules
  - emerging-games.rules
  - emerging-icmp_info.rules
  - emerging-icmp.rules
    - emerging-imap.rules
  - emerging-inappropriate.rules
  - emerging-info.rules
  - emerging-malware.rules
  - emerging-misc.rules
  - emerging-mobile_malware.rules
  - emerging-netbios.rules
  - emerging-p2p.rules
  - emerging-policy.rules
  - emerging-pop3.rules
  - emerging-rpc.rules
  - emerging-scada.rules
  - emerging-scan.rules
  - emerging-shellcode.rules
  - emerging-smtp.rules
  - emerging-snmp.rules
  - emerging-sql.rules
  - emerging-telnet.rules
  - emerging-tftp.rules
  - emerging-trojan.rules
  - emerging-user_agents.rules
  - emerging-voip.rules
  - emerging-web_client.rules
  - emerging-web_server.rules
    - emerging-web_specific_apps.rules
  - emerging-worm.rules
  - files.rules
  - http-events.rules
  - ipsec-events.rules
  - kerberos-events.rules
  - modbus-events.rules
  - nfs-events.rules
  - ntp-events.rules
  - smb-events.rules
  - smtp-events.rules
  - stream-events.rules
  - tls-events.rules
  - tor.rules
```
