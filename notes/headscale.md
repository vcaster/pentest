# Install

* ```wget --output-document=headscale.deb \
  https://github.com/juanfont/headscale/releases/download/v<HEADSCALE VERSION>/headscale_<HEADSCALE VERSION>_linux_<ARCH>.deb```

* sudo dpkg --install headscale.deb
* sudo systemctl enable headscale
* mkdir /etc/bash_completion.d
* headscale completion bash > /etc/bash_completion.d/headcopletion
* nano /etc/headscale/config.yaml
* * change server url -> dns:443
* * listen addr -> 0.0.0.0:443
* * acme email
* * tls letsencrypt hostname: dns
* * enable derp

* headscale users create myfirstuser
* (on another node)
* * curl -fsSL https://tailscale.com/install.sh | sh
* * sudo tailscale up --accept-routes --login-server=https://dns  --advertise-exit-node --advertise-routes 192.168.1.0/24,10.0.0.0/24
* headscale nodes register --user myfirstuser --key nodekey:key

* headscale nodes list 
* headscale route list -> shows ID
* headscale route enable -r ID

# zima interface

```
# This is the network config written by 'subiquity'
network:
  ethernets:
    enp2s0:
      addresses:
      - 10.10.69.4/16
      nameservers:
        addresses:
        - 10.10.10.51
        - 10.10.10.1
        search:
        - patron.boss
      routes:
      - to: 10.10.0.0/16
        via: 10.10.10.1
      - to: 192.168.69.0/24
        via: 10.10.10.1
    enp3s0:
      dhcp4: true
      routes:
      - to: default
        via: 10.0.0.1
    enx000ec6747377:
      addresses:
      - 192.168.1.3/24
      routes:
      - to: 192.168.1.1/24
        via: 192.168.1.1
  version: 2
```